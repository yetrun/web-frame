# 路由定义的更多用法

## 通配符路由

### 匹配完整路径

匹配完整路径，务必将它写在最后，否则后续的路由定义将会跳过。

```ruby
route('/*path')
  .params {
    param :path, type: 'string'
  }
```

如果是想捕获 404 错误，不要像上面这样用，而是要捕获 `Dain::Errors::NoMatchingRoute` 异常。

```ruby
rescue_error Dain::NotFound do
  response.status = 404
  response.body = [{ "Route Not Found" }]
end
```

### 匹配剩余的路径

```ruby
```ruby
route('/foo/*remaining_path')
  .params {
    param :remaining_path, type: 'string'
  }
```
```

### 子路由中定义路径

```ruby
route('/foo/*') # 这里要用通配符路由
  .nesting do |route|
    route.method(:get, '/foo/bar') # 这里要写完整的路径
  end
```
